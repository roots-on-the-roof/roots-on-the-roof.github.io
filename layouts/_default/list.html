{{ define "main"}}
<div class="posts">
  {{ $pages := where .Site.RegularPages "Type" "posts" }}
  {{ $grouped := $pages.GroupByDate "2006" }}
  {{ $paginator := .Paginate $grouped }}

  <h1>Posts</h1>
  {{ .Content }}

  {{ range $paginator.PageGroups }}
  <h2>{{ .Key }}</h2>
  <div class="posts-list">
    {{ range .Pages }}
    <div class="posts-item">
        <div class="posts-date">{{ .Date | dateFormat "2006-01-02" }}</div>
        
        <!-- trying to add image covers to the posts page         

        <div class="cover" id="cover">
          <img src="{{ . }}" alt="Cover Image" class="cover-image" loading="lazy">
        </div>

        -->

        <div class="posts-title">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
            {{ $summary := .Content | plainify | truncate 120 "..." }}
            <p>{{ $summary }}</p>
        </div>
    </div>    
    {{ end }}
  </div>
  {{ end }}
  {{ partial "pagination.html" . }}
</div>
{{ end }}